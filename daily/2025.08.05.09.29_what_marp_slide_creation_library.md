# Marp - Markdownプレゼンテーションエコシステム

## What's this file?
> [!NOTE]
> **What**
> 
> Marpとは何かについて記載しています。

## Conclusion (忙しいとき向け)
> [!IMPORTANT]
> **What** : Marpとは何か
> 
> **Answer** : Markdownからプレゼンテーションスライドを作成するオープンソースのエコシステムで、VS Code拡張機能、CLIツール、JavaScriptフレームワークを提供

## 目次

<details>
<summary>目次を開く</summary>

- [概要](#概要)
- [Marpファミリー](#marpファミリー)
- [主な特徴](#主な特徴)
- [基本的な記法](#基本的な記法)
- [高度な機能](#高度な機能)
- [テーマシステム](#テーマシステム)
- [エクスポート形式](#エクスポート形式)
- [開発者向け機能](#開発者向け機能)
- [他のツールとの比較](#他のツールとの比較)
- [ユースケース](#ユースケース)

</details>

## 概要

Marp（Markdown Presentation Ecosystem）は、シンプルなMarkdownファイルから美しいプレゼンテーションを作成するためのツール群です。2016年に初版がリリースされ、現在はNext Generation版として完全に再設計されています。

### プロジェクト情報
- **公式サイト**: https://marp.app/
- **GitHub**: https://github.com/marp-team
- **開発者**: Yuki Hattori（@yhatt）
- **ライセンス**: MIT License
- **言語**: TypeScript/JavaScript

## Marpファミリー

### 1. Marp Core
```
基盤となるMarkdownレンダリングフレームワーク
- Markdownパーサー（markdown-it）のラッパー
- スライド分割機能
- テーマエンジン
```

### 2. Marp CLI
```bash
# コマンドラインツール
marp slide.md                  # HTMLプレビュー
marp slide.md --pdf            # PDF出力
marp slide.md --pptx           # PowerPoint出力
marp --server ./slides         # プレゼンサーバー起動
```

### 3. Marp for VS Code
```
Visual Studio Code拡張機能
- リアルタイムプレビュー
- シンタックスハイライト
- エクスポート機能
- テーマのホットリロード
```

### 4. Marpit
```
Marpの基盤となるフレームワーク
- より低レベルなAPI
- カスタマイズ可能性が高い
- 独自のプレゼンツール開発用
```

## 主な特徴

### 1. シンプルな記法
```markdown
---
marp: true
theme: default
---

# スライド1

プレゼンテーションの内容

---

# スライド2

- 箇条書き
- **強調**
- *イタリック*
```

### 2. 高速レンダリング
- インクリメンタルビルド
- 効率的なDOM更新
- 軽量な出力ファイル

### 3. 美しいデフォルトテーマ
- default
- gaia
- uncover

### 4. 完全なMarkdown互換
- CommonMark準拠
- GFM（GitHub Flavored Markdown）対応
- 数式（KaTeX/MathJax）サポート

## 基本的な記法

### フロントマター
```yaml
---
marp: true
theme: gaia
class: lead
paginate: true
backgroundColor: #fff
backgroundImage: url('https://example.com/bg.jpg')
---
```

### スライド区切り
```markdown
---
<!-- 3つのハイフン -->

# 新しいスライド

___
<!-- 3つのアンダースコア（水平線も表示） -->

# 次のスライド
```

### ディレクティブ
```markdown
<!-- _class: lead -->
# 中央寄せのタイトル

<!-- _backgroundColor: #123 -->
# 背景色を変更

<!-- _paginate: false -->
このスライドはページ番号なし
```

### 画像の配置
```markdown
![bg](image.jpg)           # 背景画像
![bg left](image.jpg)      # 左側背景
![bg right:40%](image.jpg) # 右側40%幅
![w:200px](image.jpg)      # 幅指定
```

## 高度な機能

### 1. スライド内アニメーション
```markdown
# アニメーション

<!-- fragments -->

* 最初に表示
* 次に表示 <!-- .element: class="fragment" -->
* 最後に表示 <!-- .element: class="fragment" -->
```

### 2. スピーカーノート
```markdown
# スライドタイトル

スライドの内容

<!--
ここにスピーカーノートを記述
プレゼンター画面でのみ表示される
-->
```

### 3. 数式表現
```markdown
# 数式の例

インライン数式: $E = mc^2$

ブロック数式:
$$
\frac{1}{\sigma\sqrt{2\pi}} 
e^{-\frac{(x-\mu)^2}{2\sigma^2}}
$$
```

### 4. コードハイライト
```markdown
```javascript
// シンタックスハイライト対応
function fibonacci(n) {
  if (n <= 1) return n;
  return fibonacci(n - 1) + fibonacci(n - 2);
}
```
```

## テーマシステム

### CSSによるカスタマイズ
```css
/* theme.css */
@theme default;

section {
  background-color: #f5f5f5;
  font-family: 'Noto Sans JP', sans-serif;
}

h1 {
  color: #333;
  border-bottom: 3px solid #007acc;
}

code {
  background-color: #f0f0f0;
  padding: 2px 4px;
  border-radius: 3px;
}
```

### テーマの適用
```yaml
---
marp: true
theme: ./theme.css
---
```

### 組み込みクラス
- `lead`: タイトルスライド用
- `invert`: 色反転
- カスタムクラスの定義も可能

## エクスポート形式

### 対応フォーマット
| 形式 | 用途 | 特徴 |
|------|------|------|
| HTML | Web公開 | インタラクティブ |
| PDF | 印刷・配布 | レイアウト固定 |
| PPTX | PowerPoint | 編集可能 |
| PNG/JPEG | 画像として保存 | SNS共有用 |

### エクスポートオプション
```bash
# PDF with notes
marp slide.md --pdf --pdf-notes

# Custom size
marp slide.md --pdf --pdf-size=A4

# Animation
marp slide.md --html --html-animation
```

## 開発者向け機能

### JavaScript API
```javascript
import { Marp } from '@marp-team/marp-core'

const marp = new Marp({
  html: true,
  emoji: {
    shortcode: true,
    unicode: true,
    twemoji: {
      base: '/assets/twemoji/',
    },
  },
})

const { html, css } = marp.render(markdown)
```

### React統合
```jsx
import { Marp } from '@marp-team/marp-react'

function Presentation() {
  return (
    <Marp
      markdown={slideContent}
      options={{
        theme: 'gaia',
        paginate: true,
      }}
    />
  )
}
```

### カスタムエンジン
```javascript
// カスタムレンダラー
marp.use(customPlugin)
marp.customDirectives.add('custom', (value) => {
  // カスタム処理
})
```

## 他のツールとの比較

### vs reveal.js
| 項目 | Marp | reveal.js |
|------|------|-----------|
| 記法 | Markdown | HTML/Markdown |
| 学習曲線 | 低い | 中程度 |
| カスタマイズ性 | 中程度 | 高い |
| ファイルサイズ | 小さい | 大きい |

### vs Slidev
| 項目 | Marp | Slidev |
|------|------|--------|
| エコシステム | 軽量 | Vue.js統合 |
| 開発体験 | シンプル | リッチ |
| ビルド時間 | 高速 | 中程度 |
| 対象ユーザー | 一般 | 開発者向け |

## ユースケース

### 1. 技術プレゼンテーション
- 勉強会・LT
- 技術ドキュメント
- コードレビュー資料

### 2. 教育・研修
- 講義資料
- ワークショップ
- オンライン教材

### 3. ビジネス
- 提案書（シンプルなもの）
- 進捗報告
- 社内勉強会

### 4. 個人利用
- ブログのスライド版
- ポートフォリオ
- アイデアメモ

## まとめ

Marpは、Markdownの簡潔さとプレゼンテーションツールの表現力を組み合わせた優れたツールです。エンジニアやMarkdownに慣れた人にとって、最も効率的にスライドを作成できる選択肢の一つです。

### 利点
- 学習コストが低い
- バージョン管理しやすい
- 高速な作成・編集
- 美しいデフォルトデザイン

### 制限
- 複雑なアニメーション不可
- 高度なレイアウトは困難
- PowerPointほどの自由度はない

## 関連

- [Marp公式ドキュメント](https://marpit.marp.app/)
- [Marp CLI](https://github.com/marp-team/marp-cli)
- [Marp for VS Code](https://marketplace.visualstudio.com/items?itemName=marp-team.marp-vscode)
- [Markdownプレゼンツール比較](./markdown_presentation_tools_comparison.md)